<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>DB (datalog.Datalog_unix.Default.TD.DB)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">datalog</a> &#x00BB; <a href="../../../index.html">Datalog_unix</a> &#x00BB; <a href="../../index.html">Default</a> &#x00BB; <a href="../index.html">TD</a> &#x00BB; DB</nav><header class="odoc-preamble"><h1>Module <code><span>TD.DB</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <a href="../../../../Datalog_top_down/Default/DB/index.html#type-t">TopDown.Default.DB.t</a></span></code></div><div class="spec-doc"><p>A database is a repository for Datalog clauses.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-interpreter"><a href="#type-interpreter" class="anchor"></a><code><span><span class="keyword">type</span> interpreter</span><span> = <span><a href="../T/index.html#type-t">T.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../C/index.html#type-t">C.t</a> list</span></span></code></div><div class="spec-doc"><p>Interpreted predicate. It takes terms which have a given symbol as head, and return a list of (safe) clauses that have the same symbol as head, and should unify with the query term.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span><span class="optlabel">?parent</span>:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-copy"><a href="#val-copy" class="anchor"></a><code><span><span class="keyword">val</span> copy : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_fact"><a href="#val-add_fact" class="anchor"></a><code><span><span class="keyword">val</span> add_fact : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../T/index.html#type-t">T.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_facts"><a href="#val-add_facts" class="anchor"></a><code><span><span class="keyword">val</span> add_facts : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../T/index.html#type-t">T.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_clause"><a href="#val-add_clause" class="anchor"></a><code><span><span class="keyword">val</span> add_clause : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../C/index.html#type-t">C.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_clauses"><a href="#val-add_clauses" class="anchor"></a><code><span><span class="keyword">val</span> add_clauses : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../C/index.html#type-t">C.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-interpret"><a href="#val-interpret" class="anchor"></a><code><span><span class="keyword">val</span> interpret : <span><span class="optlabel">?help</span>:string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-const">const</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-interpreter">interpreter</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Add an interpreter for the given constant. Goals that start with this constant will be given to all registered interpreters, all of which can add new clauses. The returned clauses must have the constant as head symbol.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-interpret_list"><a href="#val-interpret_list" class="anchor"></a><code><span><span class="keyword">val</span> interpret_list : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="../index.html#type-const">const</a> * string * <a href="#type-interpreter">interpreter</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Add several interpreters, with their documentation</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_interpreted"><a href="#val-is_interpreted" class="anchor"></a><code><span><span class="keyword">val</span> is_interpreted : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-const">const</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Is the constant interpreted by some OCaml code?</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_builtin"><a href="#val-add_builtin" class="anchor"></a><code><span><span class="keyword">val</span> add_builtin : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Datalog_top_down/Default/Const/index.html#type-t">Const.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../BuiltinFun/index.html#type-t">BuiltinFun.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Add a builtin fun</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-builtin_funs"><a href="#val-builtin_funs" class="anchor"></a><code><span><span class="keyword">val</span> builtin_funs : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../BuiltinFun/index.html#type-map">BuiltinFun.map</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eval"><a href="#val-eval" class="anchor"></a><code><span><span class="keyword">val</span> eval : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../T/index.html#type-t">T.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../T/index.html#type-t">T.t</a></span></code></div><div class="spec-doc"><p>Evaluate the given term at root</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-help"><a href="#val-help" class="anchor"></a><code><span><span class="keyword">val</span> help : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Help messages for interpreted predicates</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-num_facts"><a href="#val-num_facts" class="anchor"></a><code><span><span class="keyword">val</span> num_facts : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-num_clauses"><a href="#val-num_clauses" class="anchor"></a><code><span><span class="keyword">val</span> num_clauses : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-size"><a href="#val-size" class="anchor"></a><code><span><span class="keyword">val</span> size : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_facts"><a href="#val-find_facts" class="anchor"></a><code><span><span class="keyword">val</span> find_facts : 
  <span><span class="optlabel">?oc</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-scope">scope</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../T/index.html#type-t">T.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-scope">scope</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../T/index.html#type-t">T.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Subst/index.html#type-t">Subst.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>find facts unifying with the given term, and give them along with the unifier, to the callback</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_clauses_head"><a href="#val-find_clauses_head" class="anchor"></a><code><span><span class="keyword">val</span> find_clauses_head : 
  <span><span class="optlabel">?oc</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-scope">scope</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../T/index.html#type-t">T.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-scope">scope</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../C/index.html#type-t">C.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Subst/index.html#type-t">Subst.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>find clauses whose head unifies with the given term, and give them along with the unifier, to the callback</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_interpretation"><a href="#val-find_interpretation" class="anchor"></a><code><span><span class="keyword">val</span> find_interpretation : 
  <span><span class="optlabel">?oc</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-scope">scope</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../T/index.html#type-t">T.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-scope">scope</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../C/index.html#type-t">C.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Subst/index.html#type-t">Subst.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Given an interpreted goal, try all interpreters on it, and match the query against their heads. Returns clauses whose head unifies with the goal, along with the substitution.</p></div></div></div></body></html>
